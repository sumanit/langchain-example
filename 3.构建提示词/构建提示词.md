
PromptTemplate 用于通过模板生成调用模型的Message列表 
```
BasePromptTemplate
 +-- BaseChatPromptTemplate
      +-- ChatPromptTemplate  会话提示词模板
      |    +-- StructuredPrompt
      |    +-- AgentScratchPadChatPromptTemplate  
      +-- FewShotChatMessagePromptTemplate  少样本学习消息提示词模板
 +-- StringPromptTemplate
      +-- PromptTemplate 
      +-- FewShotPromptTemplate
      +-- FewShotPromptWithTemplates
 +-- PipelinePromptTemplate
 +-- ImagePromptTemplate
```

# BaseChatPromptTemplate  
- 作用：
  - 聊天模型提示模板的专用基类
- 特点：
  - 生成消息列表而非纯文本，适配对话交互场景
- 使用场景：
  - 构建多轮对话系统、客服机器人等

## ChatPromptTemplate
- 特点
  - 支持定义系统指令、用户输入和AI回复等多种角色消息模板，每条消息可包含动态变量占位符
  - 动态参数绑定‌ 通过字典注入变量值（如{topic}、{query}），自动生成完整对话上下文
  - 序列化兼容性‌ 输出格式适配主流聊天模型（如GPT、Claude）的消息序列输入要求
- 作用
  - 对话流程标准化‌ 将零散对话内容转化为结构化的消息列表，提升模型对上下文的理解能力
  - 减少重复编码‌ 通过模板复用避免手动拼接多轮对话内容
- 使用场景
  - 聊天机器人开发‌ 维护系统设定、用户提问和AI回复的分离（如客服场景）
  - 复杂任务分解‌  结合工具调用实现分步推理（如数学计算、代码调试）
  - 多轮问答系统‌ 动态插入历史对话记录以保持上下文连贯性

### StructuredPrompt
- 特点‌
  - 通过‌角色(Role)、任务(Task)、要求(Requirement)、提示(Cue)‌四要素结构化设计，明确约束模型输出
  - 支持格式一致性校验，减少自由文本的随机性
- 作用‌
  - 提升生成内容的准确性和可控性，例如生成符合特定格式的JSON或表格数据
  - 适用于需要严格遵循业务逻辑的自动化任务（如API参数生成）
- 使用场景‌
  - 生成结构化报告、数据提取模板或标准化响应
  - 需与下游系统集成的场景（如数据库查询结果格式化）

### AgentScratchPadChatPromptTemplate
- 特点
  - 继承自BaseChatPromptTemplate，专为‌多轮对话‌设计，支持动态维护对话历史
  - 内置临时存储区（ScratchPad），可记录中间推理步骤或工具调用结果
- 作用‌
  - 实现复杂任务的逐步推理（如数学计算、代码调试）
  - 协调工具调用与模型响应，增强Agent的连贯性
- 使用场景‌
  - 需要长期记忆的聊天机器人（如客服系统）
  - 结合工具链的自主Agent开发（如数据分析、自动化流程）

## FewShotChatMessagePromptTemplate
- 作用
  - 专为聊天模型设计的少样本提示模板，通过动态插入示例对话引导模型生成符合预期的结构化响应12。
- 特点
  - 角色化消息序列‌：强制定义 human/assistant 等角色标签，保持对话上下文一致性23。
  - ‌动态示例选择‌：支持 ExampleSelector 按输入语义筛选最相关示例（如向量相似度匹配）34。
  - 聊天模型适配‌：输出为 List[BaseMessage] 格式，直接兼容 ChatOpenAI 等聊天模型接口17。 
- 使用场景
  - ‌任务引导型对话‌：如数学解题（输入 "2+2" → 输出 "4"）3。
  - 客服话术生成‌：根据用户问题动态匹配相似案例模板4。
  - 角色扮演系统‌：构建AI医生、编程助手等需固定行为模式的对话场景1。

# StringPromptTemplate
- 作用‌：
  - 快速生成标准化提示词，减少重复编写相似提示的工作量
- 特点‌：
  - 结构简单，仅格式化单个字符串，通过占位符（如{变量}）实现动态内容替换
- 使用场景‌：
  - 适合单次请求任务（如命名生成、简单推理）或与其他模板组合使用

## PromptTemplate
- 作用：
  - 基础文本模板，支持变量插值和动态内容生成
- 特点：
  - 通过from_template()预定义模板，运行时填充变量
- 示例场景：
  - 公司命名生成、文本摘要等结构化任务

## FewShotPromptTemplate
- 作用：
  - 集成示例样本的增强模板
- 特点：
  - 通过示例引导模型输出，提升响应质量
- 实现原理：
  - 动态插入示例到模板前缀，支持示例选择器

## FewShotPromptWithTemplates

# PipelinePromptTemplate
- 作用：
  - 组合多个模板的流水线
- 特点：
  - 支持模板级联，实现复杂提示工程
- 应用场景：
  - 多阶段任务分解（如先检索后生成）

# ImagePromptTemplate
- 作用：
  - 处理多模态输入的图像提示1
- 特点：
  - 支持文本与图像的联合提示构造